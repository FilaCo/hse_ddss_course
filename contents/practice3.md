<div align="center">

# Практическая работа №3

<picture>
    <img alt="Быстродействие и надёжность или шутка для разогрева"
         src="media/speed-n-reliablity-meme.jpg"
         width="50%">
</picture>

</div>

## Цель

Обеспечить быстродействие и надёжность Вашей распределённой системы.

## Задачи

1. Настроить CI-процесс для Вашей распределённой системы. Туда должны входить:
   1. Проверка линтером.
   2. Проверка статическим анализатором.
   3. Автоматическое тестирование (имеет смысл разделить на Unit -> Integration -> E2E).
2. Применить одну из техник для масштабирования компонентов Вашей распределённой системы:
   1. Балансировщик нагрузки L4 или L7 + репликация компонента. Необходимо выбрать алгоритм балансировки. Реплицировать компонент на уровне контейнеров (через оркестратор, например, docker compose).
   2. Балансировщик нагрузки L4 или L7 + Репликация СУБД (master -> slave). Необходимо выбрать алгоритм балансировки. Синхронная или асинхронная репликация? Минимально 1 мастер и 2 слейва.
   3. Шардирование СУБД. Выбрать алгоритм шардирования. Минимум 4 шарда. Что будете делать, если необходимо увеличить кол-во шардов?
   4. Кэширование данных из СУБД. Рекомендуемые системы: Redis, Memcached. Что будете делать, если спустя время ключ из кэша станем получать слишком долго?
   5. Свой вариант (**согласовать с преподавателем**).
3. Добавить централизованное логирование микросервисов через GrayLog.
4. Обновить или дописать необходимые тесты.

### Дополнительные задачи

1. Реализовать CD-процесс для Вашей распределённой системы. Туда должны входить:
   1. Сборка бинарного файла приложения (необязательно, если Python/JS/PHP)
   2. Доставка изменённого кода на целевую машину:
      1. С помощью SCP (передача файла по ssh).
      2. С помощью сборки Docker-образа, помещения его в регистре образов и дальнейшем pull-е образа на целевой машине.
      3. Ваш вариант (например, с помощью helm и k8s).
2. Попробовать вместо GrayLog что-нибудь другое (ELK, Clickhouse-based решения, Grafana).
3. Прикрутить семантические релизы приложения (автоматический запуск CD по анализу коммитов).

## Формат сдачи проекта

1. Оформить описание работ в отчете с описанием того, что было сделано и что не получилось сделать. Добавить скриншоты, демонстрирующие успешную работу разработанных функций. Добавить листинги кода и ссылку на репозиторий проекта.
2. Отправить в телеграм t.me/FilaCo (можно ссылкой на GitHub/GitLab репозиторий).

## Ресурсы

1. [Общая логика масштабирования](http://highload.guide/blog/scaling-logic.html)
2. [Масштабирование бэкэнда](https://xakep.ru/2012/11/30/backend-zoom/)
3. [Горизонтальное масштабирование. Что, зачем, когда и как](http://highload.guide/blog/scaling-what-why-when-and-how.html)
4. [Как мы сделали ровную балансировку нагрузки на фронтенд-кластере](http://highload.guide/blog/load-balancing-frontend-cluster.html)
5. [Централизация логирования микросервисов с Graylog](https://habr.com/ru/companies/otus/articles/703882/)
6. [Пример шаблонного репозитория C#](https://gitlab.com/gxt159/gx-blueprint)
7. [Репликация СУБД](https://systems.education/ddia-replication)
8. [Теория шардирования](https://habr.com/ru/companies/oleg-bunin/articles/433370/)
9. [Балансировка нагрузки в nginx](https://nginx.org/en/docs/http/load_balancing.html)
